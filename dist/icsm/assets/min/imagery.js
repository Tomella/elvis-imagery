"use strict";var PaneCtrl=function(e){var n=this;e.data().then(function(e){n.data=e})},PaneService=function(){return{add:function(e){},remove:function(e){}}};console.log("9999999999"),angular.module("imagery.panes",[]).directive("imageryPanes",["$rootScope","$timeout","mapService",function(e,n,t){return{templateUrl:"imagery/panes/panes.html",transclude:!0,restrict:"AE",scope:{defaultItem:"@",data:"="},link:function(e){console.log("HHHHHHHHHHHHHH4H")},controller:["$scope",function(a){var r=!1;e.$on("side.panel.change",function(e){function t(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!0),window.dispatchEvent(e)}t(),n(t,100),n(t,200),n(t,300),n(t,500)}),a.view=a.defaultItem,e.$broadcast("view.changed",a.view,null),a.setView=function(n){var o=a.view;a.view===n?(n&&(r=!0),a.view=""):(n||(r=!0),a.view=n),e.$broadcast("view.changed",a.view,o),r&&t.getMap().then(function(e){e._onResize()})},n(function(){e.$broadcast("view.changed",a.view,null)},50)}]}}]).directive("icsmTabs",[function(){return{templateUrl:"imagery/panes/tabs.html",require:"^icsmPanes"}}]).controller("PaneCtrl",PaneCtrl).factory("paneService",PaneService),PaneCtrl.$inject=["paneService"],PaneService.$inject=[];var DownloadCtrl=function(e){e.data().then(function(e){this.data=e}.bind(this)),this.remove=function(){e.clear()},this.changeEmail=function(n){e.setEmail(n)}},DownloadService=function(e,n,t,a,r){var o="download_email",i="Download Layers",l={zoom:null,center:null,layer:null},s=null,c={getLayerGroup:function(){return a.getGroup(i)},setState:function(e){function n(){[[e.bounds.yMin,e.bounds.xMin],[e.bounds.yMax,e.bounds.xMax]];l.layer&&a.getGroup(i).removeLayer(l.layer)}function t(e){l.layer&&(a.clearGroup(i),l.layer=null)}e?n():t()},decorate:function(){var e=s.item;s.item.download=!0,e.processsing||(e.processing={clip:{xMax:null,xMin:null,yMax:null,yMin:null}})},setEmail:function(e){r.setItem(o,e)},getEmail:function(){return r.getItem(o).then(function(e){return s.email=e,e})},data:function(){return s?n.when(s):e.get("icsm/resources/config/icsm.json").then(function(e){return s=e.data,c.decorate(),s})}};return c};angular.module("imagery.download",[]).controller("DownloadCtrl",DownloadCtrl).factory("downloadService",DownloadService),DownloadCtrl.$inject=["downloadService"],DownloadService.$inject=["$http","$q","$rootScope","mapService","storageService"];var RootCtrl=function(e,n){var t=this;n.getConfig().then(function(e){t.data=e;try{var n=document.createElement("canvas");e.modern=!(!window.WebGLRenderingContext||!n.getContext("webgl")&&!n.getContext("experimental-webgl"))}catch(a){e.modern=!1}})};angular.module("ImageryApp",["common.altthemes","common.header","common.navigation","common.panes","common.storage","common.templates","common.toolbar","explorer.config","explorer.confirm","explorer.drag","explorer.enter","explorer.flasher","explorer.googleanalytics","explorer.httpdata","explorer.info","explorer.message","explorer.modal","explorer.tabs","explorer.version","explorer.map.templates","exp.ui.templates","geo.draw","geo.elevation","geo.geosearch","geo.map","geo.maphelper","geo.measure","icsm.side-panel","imagery.download","imagery.panes","imagery.templates","imagery.toolbar","ui.bootstrap","ui.bootstrap-slider","ngAutocomplete","ngRoute","ngSanitize","page.footer"]).config(["configServiceProvider","projectsServiceProvider","versionServiceProvider",function(e,n,t){e.location("icsm/resources/config/config.json"),e.dynamicLocation("icsm/resources/config/appConfig.json?t="),t.url("icsm/assets/package.json"),n.setProject("icsm")}]).factory("userService",[function(){function e(){return!0}return{login:e,hasAcceptedTerms:e,setAcceptedTerms:e,getUsername:function(){return"anon"}}}]).controller("RootCtrl",RootCtrl),RootCtrl.$invoke=["$http","configService"],angular.module("imagery.toolbar",[]).directive("elevationToolbar",[function(){return{restrict:"AE",templateUrl:"imagery/toolbar/toolbar.html",controller:"toolbarLinksCtrl",transclude:!0}}]).controller("toolbarLinksCtrl",["$scope","configService",function(e,n){var t=this;n.getConfig().then(function(e){t.links=e.toolbarLinks}),e.item="",e.toggleItem=function(n){e.item=e.item===n?"":n}}]),angular.module("imagery.templates",[]).run(["$templateCache",function(e){e.put("imagery/panes/panes.html",'<div class="mapContainer" class="col-md-12" style="padding-right:0"  ng-attr-style="right:{{right.width}}">\r\n   <span common-baselayer-control class="baselayer-slider" max-zoom="16" title="Satellite to Topography bias on base map."></span>\r\n   <div class="panesMapContainer" geo-map configuration="data.map">\r\n      <geo-extent></geo-extent>\r\n      <common-feature-info></common-feature-info>\r\n      <icsm-layerswitch></icsm-layerswitch>\r\n   </div>\r\n   <div class="base-layer-controller">\r\n      <div geo-draw data="data.map.drawOptions" line-event="elevation.plot.data" rectangle-event="bounds.drawn"></div>\r\n   </div>\r\n   <restrict-pan bounds="data.map.position.bounds"></restrict-pan>\r\n</div>'),e.put("imagery/panes/tabs.html",'<!-- tabs go here -->\r\n<div id="panesTabsContainer" class="paneRotateTabs" style="opacity:0.9" ng-style="{\'right\' : contentLeft +\'px\'}">\r\n\r\n   <div class="paneTabItem" style="width:60px; opacity:0">\r\n\r\n   </div>\r\n   <div class="paneTabItem" ng-class="{\'bold\': view == \'download\'}" ng-click="setView(\'download\')">\r\n      <button class="undecorated">Datasets Download</button>\r\n   </div>\r\n   <!--\r\n\t<div class="paneTabItem" ng-class="{\'bold\': view == \'search\'}" ng-click="setView(\'search\')">\r\n\t\t<button class="undecorated">Search</button>\r\n\t</div>\r\n\t<div class="paneTabItem" ng-class="{\'bold\': view == \'maps\'}" ng-click="setView(\'maps\')">\r\n\t\t<button class="undecorated">Layers</button>\r\n\t</div>\r\n   -->\r\n   <div class="paneTabItem" ng-class="{\'bold\': view == \'downloader\'}" ng-click="setView(\'downloader\')">\r\n      <button class="undecorated">Products Download</button>\r\n   </div>\r\n   <div class="paneTabItem" ng-class="{\'bold\': view == \'glossary\'}" ng-click="setView(\'glossary\')">\r\n      <button class="undecorated">Glossary</button>\r\n   </div>\r\n   <div class="paneTabItem" ng-class="{\'bold\': view == \'help\'}" ng-click="setView(\'help\')">\r\n      <button class="undecorated">Help</button>\r\n   </div>\r\n</div>'),e.put("imagery/side-panel/side-panel-left.html",'<div class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" style="width: {{left.width}}px;" ng-class="{\'cbp-spmenu-open\': left.active}">\r\n    <a href="" title="Close panel" ng-click="closeLeft()" style="z-index: 1200">\r\n        <span class="glyphicon glyphicon-chevron-left pull-right"></span>\r\n    </a>\r\n    <div ng-show="left.active === \'legend\'" class="left-side-menu-container">\r\n        <legend url="\'img/AustralianTopogaphyLegend.png\'" title="\'Map Legend\'"></legend>\r\n    </div>\r\n</div>'),e.put("imagery/side-panel/side-panel-right.html",'<div class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right noPrint" ng-attr-style="width:{{right.width}}" ng-class="{\'cbp-spmenu-open\': right.active}">\r\n    <a href="" title="Close panel" ng-click="closePanel()" style="z-index: 1">\r\n        <span class="glyphicon glyphicon-chevron-right pull-left"></span>\r\n    </a>\r\n\r\n    <div class="right-side-menu-container" ng-show="right.active === \'download\'" icsm-view></div>\r\n    <div class="right-side-menu-container" ng-show="right.active === \'maps\'" icsm-maps></div>\r\n    <div class="right-side-menu-container" ng-show="right.active === \'glossary\'" icsm-glossary></div>\r\n    <div class="right-side-menu-container" ng-show="right.active === \'help\'" icsm-help></div>\r\n    <panel-close-on-event only-on="search" event-name="clear.button.fired"></panel-close-on-event>\r\n</div>\r\n'),e.put("imagery/toolbar/toolbar.html",'<div class="elevation-toolbar noPrint">\r\n   <div class="toolBarContainer">\r\n      <div>\r\n         <ul class="left-toolbar-items">\r\n            <div class="btn-group searchBar" ng-show="root.whichSearch != \'region\'">\r\n               <div class="input-group input-group-custom" geo-search >\r\n                  <input type="text" ng-autocomplete ng-model="values.from.description" options=\'{country:"au"}\' size="32" title="Select a locality to pan the map to."\r\n                     class="form-control" aria-label="...">\r\n                  <div class="input-group-btn">\r\n                     <button ng-click="zoom(false)" exp-ga="[\'send\', \'event\', \'icsm\', \'click\', \'zoom to location\']" class="btn btn-default" title="Pan and potentially zoom to location.">\r\n                        <i class="fa fa-search"></i>\r\n                     </button>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </ul>\r\n         <ul class="right-toolbar-items">\r\n            <li>\r\n               <panel-trigger panel-id="download" panel-width="590px" name="Download" default="default" icon-class="fa-list" title="Select an area of interest and select datasets for download"></panel-trigger>\r\n            </li>\r\n            <li>\r\n               <panel-trigger panel-id="help" panel-width="590px" name="Help" icon-class="fa-question-circle-o" title="Show help"></panel-trigger>\r\n            </li>\r\n            <li>\r\n               <panel-trigger panel-id="glossary" panel-width="590px" name="Glossary" icon-class="fa-book" title="Show glossary"></panel-trigger>\r\n            </li>\r\n            <li reset-page></li>\r\n         </ul>\r\n      </div>\r\n   </div>\r\n</div>')}]);